
#  SQLite
quarkus.datasource.db-kind=other
quarkus.datasource.jdbc.driver=org.sqlite.JDBC
quarkus.datasource.jdbc.url=jdbc:sqlite:./data/invest.db
quarkus.datasource.jdbc.max-size=16
quarkus.datasource.jdbc.min-size=1

# Dialeto SQLite
quarkus.hibernate-orm.dialect=org.hibernate.community.dialect.SQLiteDialect

# WAL evitar database locked
quarkus.datasource.jdbc.additional-jdbc-properties=journal_mode=WAL

# Hibernate ORM
quarkus.hibernate-orm.database.generation=create
#quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=import.sql
quarkus.log.category."org.hibernate".level=DEBUG
quarkus.hibernate-orm.second-level-caching=false

# Server
quarkus.http.port=8080

# Swagger
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.theme=material
quarkus.http.auth.permission.swagger.paths=/q/*,/swagger-ui/*,/openapi
quarkus.http.auth.permission.swagger.policy=permit

#Seguranca JWT
mp.openapi.extensions.smallrye.security-schemes.BearerAuth.type=HTTP
mp.openapi.extensions.smallrye.security-schemes.BearerAuth.scheme=bearer
mp.openapi.extensions.smallrye.security-schemes.BearerAuth.bearerFormat=JWT
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=invest-api
smallrye.jwt.sign.key.location=privateKey.pem

# Permitir login sem token
quarkus.http.auth.permission.public.paths=/auth/login
quarkus.http.auth.permission.public.policy=permit


# Exigir token no resto
quarkus.http.auth.permission.jwt.paths=/*
quarkus.http.auth.permission.jwt.policy=authenticated

quarkus.thread-pool.core-threads=4
quarkus.thread-pool.max-threads=8
smallrye.context.propagation.enabled=true